<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="description" content="GAUL Documentation: Custom Termination Criteria">
   <meta name="keywords" content="termination, statistics, on-line, off-line, genetic algorithm, GA, tutorial, examples, documentation, GAUL">
   <meta name="author" content="Stewart Adcock">
   <meta name="copyright" content="© Stewart Adcock">
   <meta name="generator" content="vi">
   <meta http-equiv="Content-Language" content="en">
   <title>GAUL: Genetic Algorithm Utility Library</title>
</head>
<body text="#000000" bgcolor="#D8D8FF" link="#222288" vlink="#222288" alink="#9999FF">

<a NAME="top"></a>
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
  <tr>
    <td ALIGN=CENTER BGCOLOR="#000000"><font face="Arial,Helvetica" color="#FFFFFF"> [ <a href="index.html"><font face="Arial,Helvetica" color="#FFFFFF"><b>Home</b></font></a> | <a href="documentation.html"><font face="Arial,Helvetica" color="#FFFFFF"><b>Docs</b></font></a> | <a href="index.html#resources"><font face="Arial,Helvetica" color="#FFFFFF"><b>Resources</b></font></a> | <a href="index.html#distribution"><font face="Arial,Helvetica" color="#FFFFFF"><b>Download</b></font></a>] </font></td>
  </tr>
</table>
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
  <tr>
    <td ALIGN=CENTER BGCOLOR="#2222AA"><b><font face="Arial,Helvetica" color="#FFFFFF">GAUL Documentation: Custom termination Criteria</font></b></td>
  </tr>
</table>

<p><a NAME="intro"></a></p>
<table BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH="100%">
<tr>
<td>
<p>Here we further adapt the example program struggle.c to demonstrate the use of user-defined stopping criteria.  We also take this opportunity to collate some basic statistics about the optimisation.</p>
<p>For reference, the source code for this example is tests/<a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/~checkout~/gaul/gaul-devel/tests/struggle3.c?content-type=text/plain&amp;only_with_tag=MAIN">struggle3.c</a>.</p>
<p><b>Off-line statistics</b></p>
<p>The <i>off-line</i> performance of function optimisation depends upon some final measue of the solution or solutions, irrespective of intermediate values.  For example, the off-line performace may be defined as the average fitness of the final population, or maybe just the fitness of the single best solution located.</p>
<p><b>On-line statistics</b></p>
<p>The <i>on-line</i> performance is dependent on every trial, or fitness evaluation, during the optimisation (or evolution).  For example, it may be the proportion of all solutions generated in all generations with fitness scores above some threshold value, or it may be the average fitness of every solution from every generation.</p>
<p><b>Example Implementation</b></p>
<p>Again, we use the same objective function as in struggle.c, except this time we only apply the Lamarkian GA.  An additional function is defined which GAUL calls at the beginning of each generation.  If at any point this function gives a return value of &quot;FALSE&quot; then the GA routine will be terminated.  This is useful for preventing further calculations once a predetermined level of convergence has been obtained, or if your prefect solution has been found.  In this case the GA routine (i.e. &quot;ga_evolution()&quot; or &quot;ga_evolution_steady_state&quot;) will return with the value &quot;TRUE&quot;.  The other reason for termination is if the specified maximum number of generations has been reached, in which case the GA routine will return with the value &quot;FALSE&quot;.</p>
<p>It is typically up to the programmer to collect the relevent statistics for a given problem, but GAUL does provide some utility functions for the most commonly required statistics.</p>
<pre>
boolean struggle_generation_hook(int generation, population *pop)
  {
  }
</pre>
<p>In the above code fragment, two stopping criteria are defined; the exact location of the correct solution, and premature convergence of the set of solutions.</p>
<p>Our new &quot;main()&quot; function is:</p>
<pre>
int main(int argc, char **argv)
  {
  population    *pop=NULL;      /* Population structure. */

  random_init();
  random_seed(42);

  pop = ga_genesis_char(
     80,                        /* const int              population_size */
     1,                         /* const int              num_chromo */
     strlen(target_text),       /* const int              len_chromo */
     NULL,                      /* GAgeneration_hook      generation_hook */
     NULL,                      /* GAiteration_hook       iteration_hook */
     NULL,                      /* GAdata_destructor      data_destructor */
     NULL,                      /* GAdata_ref_incrementor data_ref_incrementor */
     struggle_score,            /* GAevaluate             evaluate */
     ga_seed_printable_random,  /* GAseed                 seed */
     struggle_adaptation,       /* GAadapt                adapt */
     ga_select_one_roulette,    /* GAselect_one           select_one */
     ga_select_two_roulette,    /* GAselect_two           select_two */
     ga_mutate_printable_singlepoint_drift,     /* GAmutate    mutate */
     ga_crossover_char_allele_mixing,   /* GAcrossover         crossover */
     NULL                       /* GAreplace replace */
            );

  ga_population_set_parameters(
     pop,               /* population   *pop */
     0.9,               /* double       crossover */
     0.1,               /* double       mutation */
     0.0                /* double       migration */
                            );

  if ( ga_evolution( pop, GA_CLASS_LAMARCK, GA_ELITISM_PARENTS_SURVIVE, 1000 ) )
    {
    printf("The evolution was stopped because the termination criteria were met.\n" );
    }
  else
    {
    printf("The evolution was stopped because the maximum number of generations were performed.\n" );
    }

  printf( "The final solution with score %f was:\n",
          ga_get_entity_from_rank(pop,0)->fitness );
  printf( "%s\n",
          ga_chromosome_char_to_staticstring(pop, ga_get_entity_from_rank(pop,0)) );

  ga_extinction(pop);

  exit(2);
  }
</pre>
</td>
</tr>
</table>

<p><a NAME="footer"></a></p>
<table BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH="100%">
  <tr>
    <td ALIGN=CENTER BGCOLOR="#000000"><font face="Arial,Helvetica" color="#FFFFFF"> [ <a href="index.html"><font face="Arial,Helvetica" color="#FFFFFF"><b>Home</b></font></a> | <a href="documentation.html"><font face="Arial,Helvetica" color="#FFFFFF"><b>Docs</b></font></a> | <a href="index.html#resources"><font face="Arial,Helvetica" color="#FFFFFF"><b>Resources</b></font></a> | <a href="index.html#distribution"><font face="Arial,Helvetica" color="#FFFFFF"><b>Download</b></font></a>] </font></td>
  </tr>
</table>

<!--   Footer, Links etc.  -->
<table BORDER=0 CELLSPACING=2 CELLPADDING=5 WIDTH="100%">
  <tr>
    <td width="20%" ALIGN=CENTER></td>
    <td width="20%" ALIGN=CENTER>Hosted by:<br><A href="http://sourceforge.net"><IMG src="http://sourceforge.net/sflogo.php?group_id=25766" width="88" height="31" border="0" alt="SourceForge Logo"></A></td>
    <td width="20%" ALIGN=CENTER><A href="http://gaul.sourceforge.net/"><IMG src="images/gaul_button.png" width="88" height="31" border="0" alt="GAUL Button"></A></td>
    <td width="20%" ALIGN=CENTER><a href="http://validator.w3.org/check/referer"><img border="0" src="./images/valid-html401.png" alt="Valid HTML 4.01!" width="88" height="31"></a></td>
    <td width="20%" ALIGN=CENTER></td>
  </tr>
</table>

<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
  <tr><td><hr noshade width="100%"></td></tr>
  <tr>
    <td ALIGN=CENTER><font face="Arial,Helvetica" size=-1>&copy; 2001, &quot;Stewart Adcock" &lt;<a href="MAILTO:stewart_DOESNOTLIKESPAM@linux-domain.com">stewart@linux-domain.com</a>&gt; All rights reserved.</font></td>
  </tr>
  <tr>
    <td ALIGN=CENTER><font face="Arial,Helvetica" size=-1>All trademarks on this page are probably owned by their respective companies.  You can insert you own favourite disclaimer here.</font></td>
  </tr>
</table>

</body>
</html>

