<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="description" content="GAUL Documentation: Alternative Evolutionary Schemes">
   <meta name="keywords" content="termination, statistics, on-line, off-line, genetic algorithm, GA, tutorial, examples, documentation, GAUL">
   <meta name="author" content="Stewart Adcock">
   <meta name="copyright" content="© Stewart Adcock">
   <meta name="generator" content="vi">
   <meta http-equiv="Content-Language" content="en">
   <title>GAUL: Genetic Algorithm Utility Library</title>
</head>
<body text="#000000" bgcolor="#D8D8FF" link="#222288" vlink="#222288" alink="#9999FF">

<a NAME="top"></a>
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
  <tr>
    <td ALIGN=CENTER BGCOLOR="#000000"><font face="Arial,Helvetica" color="#FFFFFF"> [ <a href="index.html"><font face="Arial,Helvetica" color="#FFFFFF"><b>Home</b></font></a> | <a href="documentation.html"><font face="Arial,Helvetica" color="#FFFFFF"><b>Docs</b></font></a> | <a href="index.html#resources"><font face="Arial,Helvetica" color="#FFFFFF"><b>Resources</b></font></a> | <a href="index.html#distribution"><font face="Arial,Helvetica" color="#FFFFFF"><b>Download</b></font></a>] </font></td>
  </tr>
</table>
<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
  <tr>
    <td ALIGN=CENTER BGCOLOR="#2222AA"><b><font face="Arial,Helvetica" color="#FFFFFF">GAUL Documentation: Alternative Evolutionary Schemes</font></b></td>
  </tr>
</table>

<p><a NAME="intro"></a></p>
<table BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH="100%">
<tr>
<td>
<p>In our computational optimisation procedures we are not resticted to following the exact procedure from nature, whatever that may be.  During the lifetime of an individual, its fitness may increase, either through &quot;physical adaptation&quot; (e.g. bigger muscles resulting from exercise) or through &quot;learnt adaptations&quot; (e.g. learning how to find plentiful food supplies).  In GAUL, there is no distinction between the two types of adaptation, it simply provides a mechanism with which the programmer may reevaluate solutions.  (Of course, the programmer may consider the two mechanisms for adaptation seperately if they wish.)</p>
<p>For reference, the source code for this example is tests/<a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/~checkout~/gaul/gaul-devel/tests/struggle2.c?content-type=text/plain&amp;only_with_tag=MAIN">struggle2.c</a>.</p>
<p><b>&quot;The Baldwin Effect&quot;</b></p>
<p>If learning helps survival or procreation, then the individuals which are best able to learn will have the most offspring.  Therefore, the genes responsible for learning will be more frequent in future generations.</p>
<p><b>&quot;The Lamarkian Hypothesis&quot;</b></p>
<p>The (largely discredited, but well-known) Lamarckian hypothesis states that traits aquired during the lifetime of an organism may be genetically transmitted to its offspring.  Although the required mechanism for &quot;reverse transcription&quot; of aquired traits into the individual's genes does not exist in nature, computationaly it may form the basis of very powerful optimisation procedures.</p>
<p><b>Example Implementation</b></p>
<p>We use the same objective function as in struggle.c, except that this time we apply a Lamarkian GA and a Baldwinian GA in addition to the original Darwinian GA.  This requires us to define a new function which will perform the equivalent role to the process of adaptation or learning in nature.  GAUL provides a number of built-in adaptation functions, but none of those is considered appropriate for this particular example.  Here our adaptation function simply performs a single hill-climbing step on one, randomly selected, allele:</p>
<pre>
entity *struggle_adaptation(population *pop, entity *child)
  {
  entity        *adult;         /* Adapted solution. */
  int           allele;         /* Randomly selected allele. */

/*
 * We must generate a new solution by copying the original solution.
 * This function copys all genomic, and if appropriate, phenomic data.
 * It is never safe to adapt the solution in place.
 */
  adult = ga_entity_clone(pop, child);

/* Make point mutation. */
  allele = random_int(strlen(target_text));
  ((char *)adult->chromosome[0])[allele]++;
  struggle_score(pop, adult);

  if (adult->fitness > child->fitness)
    return adult;

/* Searching in that previous direction didn't help. */
  ((char *)adult->chromosome[0])[allele]-=2;
  struggle_score(pop, adult);

  if (adult->fitness > child->fitness)
    return adult;

/* We must already be at a maxima. */
  ((char *)adult->chromosome[0])[allele]++;
  adult->fitness = child->fitness;

  return adult;
  }
</pre>
<p>Finally, we need to extend the example's &quot;main()&quot; function to create three identical populations which are evoluted using each of the available evolutionary schemes:</p>
<pre>
int main(int argc, char **argv)
  {
  population    *popd=NULL;     /* Population for Darwinian evolution. */
  population    *popb=NULL;     /* Population for Baldwinian evolution. */
  population    *popl=NULL;     /* Population for Lamarckian evolution. */

  random_init();
  random_seed(42);

  popd = ga_genesis_char(
     80,                        /* const int              population_size */
     1,                         /* const int              num_chromo */
     strlen(target_text),       /* const int              len_chromo */
     NULL,                      /* GAgeneration_hook      generation_hook */
     NULL,                      /* GAiteration_hook       iteration_hook */
     NULL,                      /* GAdata_destructor      data_destructor */
     NULL,                      /* GAdata_ref_incrementor data_ref_incrementor */
     struggle_score,            /* GAevaluate             evaluate */
     ga_seed_printable_random,  /* GAseed                 seed */
     struggle_adaptation,       /* GAadapt                adapt */
     ga_select_one_roulette,    /* GAselect_one           select_one */
     ga_select_two_roulette,    /* GAselect_two           select_two */
     ga_mutate_printable_singlepoint_drift,     /* GAmutate    mutate */
     ga_crossover_char_allele_mixing,   /* GAcrossover         crossover */
     NULL                       /* GAreplace replace */
            );

  ga_population_set_parameters(
     popd,              /* population   *pop */
     1.0,               /* double       crossover */
     0.1,               /* double       mutation */
     0.0                /* double       migration */
                            );

/* Make exact copies of the populations. */
  popb = ga_population_clone(popd);
  popl = ga_population_clone(popd);

  ga_evolution(
    popd,                       /* population          *pop */
    GA_CLASS_DARWIN,            /* const ga_class_type class */
    GA_ELITISM_PARENTS_SURVIVE, /* const ga_elitism_type   elitism */
    600                         /* const int           max_generations */
            );

  printf( "The final solution with Darwinian evolution with score %f was:\n",
          ga_get_entity_from_rank(popd,0)->fitness );
  printf( "%s\n",
          ga_chromosome_char_to_staticstring(popd, ga_get_entity_from_rank(popd,0)) );

  ga_evolution(
    popb,                       /* population          *pop */
    GA_CLASS_BALDWIN,           /* const ga_class_type class */
    GA_ELITISM_PARENTS_SURVIVE, /* const ga_elitism_type   elitism */
    200                         /* const int           max_generations */
            );

  printf( "The final solution with Baldwinian evolution with score %f was:\n",
          ga_get_entity_from_rank(popb,0)->fitness );
  printf( "%s\n",
          ga_chromosome_char_to_staticstring(popb, ga_get_entity_from_rank(popb,0)) );

  ga_evolution(
    popl,                       /* population          *pop */
    GA_CLASS_LAMARCK,           /* const ga_class_type class */
    GA_ELITISM_PARENTS_SURVIVE, /* const ga_elitism_type   elitism */
    200                         /* const int           max_generations */
            );

  printf( "The final solution with Lamarckian evolution with score %f was:\n",
          ga_get_entity_from_rank(popl,0)->fitness );
  printf( "%s\n",
          ga_chromosome_char_to_staticstring(popl, ga_get_entity_from_rank(popl,0)) );

  ga_extinction(popd);
  ga_extinction(popb);
  ga_extinction(popl);

  exit(2);
  }
</pre>
<p>The &quot;ga_population_clone()&quot; function makes an exact replica of a population, including its defined callbacks and any individuals which it contains.</p>
<p>Note that we only perform 200 generations of the Lamarckian/Baldwinian optimisation but 600 generations of Darwinian optimisation so that the total number of fitness evaluations in each run will be approximately equal.  In many practical cases, a full reevaluation of the fitness is not required, and therefore these versions of the GA can be very efficient.</p>
<p>Alternative ga_class_type choices are GA_CLASS_BALDWIN_ALL and GA_CLASS_LAMARCK_ALL which adapt every individual in the population at every generation instead of just the new individuals.  These allow ongoing adaptation or learning, rather than just a single chance immediately after &quot;birth&quot;.</p>
</td>
</tr>
</table>

<p><a NAME="footer"></a></p>
<table BORDER=0 CELLSPACING=0 CELLPADDING=2 WIDTH="100%">
  <tr>
    <td ALIGN=CENTER BGCOLOR="#000000"><font face="Arial,Helvetica" color="#FFFFFF"> [ <a href="index.html"><font face="Arial,Helvetica" color="#FFFFFF"><b>Home</b></font></a> | <a href="documentation.html"><font face="Arial,Helvetica" color="#FFFFFF"><b>Docs</b></font></a> | <a href="index.html#resources"><font face="Arial,Helvetica" color="#FFFFFF"><b>Resources</b></font></a> | <a href="index.html#distribution"><font face="Arial,Helvetica" color="#FFFFFF"><b>Download</b></font></a>] </font></td>
  </tr>
</table>

<!--   Footer, Links etc.  -->
<table BORDER=0 CELLSPACING=2 CELLPADDING=5 WIDTH="100%">
  <tr>
    <td width="20%" ALIGN=CENTER></td>
    <td width="20%" ALIGN=CENTER>Hosted by:<br><A href="http://sourceforge.net"><IMG src="http://sourceforge.net/sflogo.php?group_id=25766" width="88" height="31" border="0" alt="SourceForge Logo"></A></td>
    <td width="20%" ALIGN=CENTER><A href="http://gaul.sourceforge.net/"><IMG src="images/gaul_button.png" width="88" height="31" border="0" alt="GAUL Button"></A></td>
    <td width="20%" ALIGN=CENTER><a href="http://validator.w3.org/check/referer"><img border="0" src="./images/valid-html401.png" alt="Valid HTML 4.01!" width="88" height="31"></a></td>
    <td width="20%" ALIGN=CENTER></td>
  </tr>
</table>

<table BORDER=0 CELLSPACING=0 CELLPADDING=0 WIDTH="100%">
  <tr><td><hr noshade width="100%"></td></tr>
  <tr>
    <td ALIGN=CENTER><font face="Arial,Helvetica" size=-1>&copy; 2001, &quot;Stewart Adcock" &lt;<a href="MAILTO:stewart_DOESNOTLIKESPAM@linux-domain.com">stewart@linux-domain.com</a>&gt; All rights reserved.</font></td>
  </tr>
  <tr>
    <td ALIGN=CENTER><font face="Arial,Helvetica" size=-1>All trademarks on this page are probably owned by their respective companies.  You can insert you own favourite disclaimer here.</font></td>
  </tr>
</table>

</body>
</html>

